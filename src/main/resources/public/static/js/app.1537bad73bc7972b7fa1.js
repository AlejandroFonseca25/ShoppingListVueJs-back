webpackJsonp([1],{NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),n=s("mtWM"),o=s.n(n).a.create({baseURL:"/api/v1"}),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e("strong",[this._v(this._s(this.message))])])])},staticRenderFns:[]},r=s("VU/8")({name:"ErrorAlert",props:["message"]},a,!1,null,null,null).exports,l={name:"ShoppingList",components:{ErrorAlert:r},data:function(){return{itemsLists:[],loading:!0,error:!1,message:""}},mounted:function(){var t=this;o.get("/").then(function(e){t.itemsLists=e.data,t.loading=!1,t.error=!1}).catch(function(e){t.error=!0,t.message=e.toString(),t.loading=!1})},methods:{confirmDeleteList:function(t,e){var s=this;this.$dialog.confirm("Are you sure you want to delete this list?").then(function(){console.log("Delete clicked"),o.delete("/itemsList/"+t).then(function(){s.itemsLists.splice(e,1),s.error=!1}).catch(function(t){console.log(t),s.error=!0,s.message=t.toString()})}).catch(function(){console.log("Cancel delete clicked")})}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-6 offset-md-3"},[t.error?s("error-alert",{attrs:{message:t.message}}):t._e(),t._v(" "),s("h1",[t._v("Shopping lists")]),t._v(" "),t.loading?s("div",[t._v("Loading...")]):s("ul",{staticClass:"list-unstyled"},t._l(t.itemsLists,function(e,i){return s("li",{key:e.id},[s("p",[s("router-link",{staticClass:"btn btn-outline-secondary",attrs:{to:{path:"/itemsList/"+e.id}}},[t._v(t._s(e.name))]),t._v(" "),s("router-link",{staticClass:"btn btn-warning btn-sm mx-1",attrs:{to:{path:"/editItemsList/"+e.id}}},[t._v("Edit")]),t._v(" "),s("a",{staticClass:"btn btn-danger btn-sm",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.confirmDeleteList(e.id,i)}}},[t._v("Delete")])],1)])})),t._v(" "),s("router-link",{staticClass:"btn btn-success btn-sm",attrs:{to:"/addItemsList"}},[t._v("Add")])],1)},staticRenderFns:[]},c=s("VU/8")(l,m,!1,null,null,null).exports,d={components:{ShoppingList:c}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("router-view")],1)},staticRenderFns:[]},f=s("VU/8")(d,u,!1,null,null,null).exports,p=s("/ocq"),v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"list-inline-item"},[e("router-link",{staticClass:"btn btn-info btn-sm",attrs:{to:"/",role:"button","data-toggle":"tooltip","data-placement":"bottom",title:"All lists"}},[e("span",{staticClass:"oi oi-list"})])],1)},staticRenderFns:[]},h=s("VU/8")({name:"AllListsButton"},v,!1,null,null,null).exports,g=s("Zrlr"),_=s.n(g),C=function t(e){_()(this,t),this.id=e.id,this.name=e.name,this.items=e.items},b={name:"ItemsList",components:{AllListsButton:h,ErrorAlert:r},props:["listId"],data:function(){return{list:{},loading:!0,error:!1,message:""}},mounted:function(){var t=this;o.get("/itemsList/"+this.listId).then(function(e){t.list=new C(e.data),t.loading=!1,t.error=!1}).catch(function(e){console.log(e),t.error=!0,t.loading=!1})},methods:{buy:function(t,e){var s=this;o.patch("/item/"+t+"/buy").then(function(){console.log("Buy clicked"),s.error=!1,s.list.items[e].bought=!s.list.items[e].bought}).catch(function(t){console.log(t),s.error=!0,s.message=t.toString()})},confirmDeleteItem:function(t,e){var s=this;this.$dialog.confirm("Are you sure you want to delete this item?").then(function(){console.log("Delete clicked"),o.delete("/item/"+t).then(function(){s.list.items.splice(e,1),s.error=!1}).catch(function(t){console.log(t),s.error=!0,s.message=t.toString()})}).catch(function(){console.log("Cancel delete clicked")})},confirmDeleteList:function(t){var e=this;this.$dialog.confirm("Are you sure you want to delete this list?").then(function(){console.log("Delete clicked"),o.delete("/itemsList/"+t).then(function(){e.$router.push("/")}).catch(function(t){console.log(t),e.error=!0,e.message=t.toString()})}).catch(function(){console.log("Cancel delete clicked")})}}},I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-6 offset-md-3"},[t.error?s("error-alert",{attrs:{message:t.message}}):t._e(),t._v(" "),t.loading?s("div",[t._v("Loading...")]):s("div",{staticClass:"list-group"},[s("h1",{staticClass:"list-group-item list-group-item-info"},[t._v(t._s(this.list.name)+" "),s("span",{staticClass:"badge badge-light"},[t._v(t._s(this.list.items.length))])]),t._v(" "),t._l(this.list.items,function(e,i){return s("div",{key:e.id,staticClass:"list-group-item",class:{"list-group-item-success":e.bought}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("router-link",{attrs:{to:{path:"/item/"+e.id}}},[t._v(t._s(e.name))]),t._v(" "),e.comment?s("small",{staticClass:"clearfix"},[t._v(t._s(e.comment))]):t._e()],1),t._v(" "),s("div",{staticClass:"col-md-5"},[s("ul",{staticClass:"list-inline text-right"},[s("li",{staticClass:"list-inline-item"},[s("a",{staticClass:"badge badge-success",attrs:{href:"#",role:"button"},on:{click:function(s){s.preventDefault(),t.buy(e.id,i)}}},[t._v("\n                "+t._s(e.bought?"Take out":"Buy")+"\n              ")])]),t._v(" "),s("li",{staticClass:"list-inline-item"},[s("router-link",{staticClass:"badge badge-warning",attrs:{to:{path:"/editItem/"+e.id},role:"button"}},[t._v("Edit")])],1),t._v(" "),s("li",{staticClass:"list-inline-item"},[s("a",{staticClass:"badge badge-danger",attrs:{href:"#",role:"button"},on:{click:function(s){s.preventDefault(),t.confirmDeleteItem(e.id,i)}}},[t._v("Delete")])])])])])])})],2),t._v(" "),s("ul",{staticClass:"list-inline"},[s("li",{staticClass:"list-inline-item"},[s("router-link",{staticClass:"btn btn-success btn-sm",attrs:{to:{path:"/addItem/"+this.listId},role:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Add a new item"}},[s("span",{staticClass:"oi oi-plus"})])],1),t._v(" "),s("li",{staticClass:"list-inline-item"},[s("router-link",{staticClass:"btn btn-warning btn-sm",attrs:{to:{path:"/editItemsList/"+this.listId},role:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Edit list"}},[s("span",{staticClass:"oi oi-pencil"})])],1),t._v(" "),s("li",{staticClass:"list-inline-item"},[s("a",{staticClass:"btn btn-danger btn-sm",attrs:{href:"#",role:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Delete list"},on:{click:function(e){e.preventDefault(),t.confirmDeleteList(t.listId)}}},[s("span",{staticClass:"oi oi-x"})])]),t._v(" "),s("all-lists-button")],1)],1)},staticRenderFns:[]},E=s("VU/8")(b,I,!1,null,null,null).exports,L=s("fZjL"),k=s.n(L),y=s("wxAW"),w=s.n(y),x=function(){function t(){_()(this,t),this.fieldErrors={}}return w()(t,[{key:"get",value:function(t){return this.fieldErrors[t]}},{key:"set",value:function(t){this.fieldErrors=t}},{key:"clear",value:function(t){delete this.fieldErrors[t]}},{key:"has",value:function(t){return this.fieldErrors.hasOwnProperty(t)}},{key:"any",value:function(){return k()(this.fieldErrors).length>0}}]),t}(),A={name:"AddItemsList",components:{AllListsButton:h,ErrorAlert:r},data:function(){return{name:"",error:!1,fieldErrors:new x,message:""}},methods:{addItemsList:function(){var t=this;o.post("/itemsList",{name:this.name}).then(function(){t.$router.push("/")}).catch(function(e){e.response?(t.fieldErrors.set(e.response.data),console.log(t.fieldErrors)):(console.log(e),t.error=!0,t.message=e.toString())})}}},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-6 offset-md-3"},[t.error?s("error-alert",{attrs:{message:t.message}}):t._e(),t._v(" "),s("h1",[t._v("Add a new shopping list")]),t._v(" "),s("form",{staticClass:"form-horizontal",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.addItemsList(e)},keydown:function(e){t.fieldErrors.clear(e.target.name)}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-1 control-label",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),s("div",{staticClass:"col-sm-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),t.fieldErrors.has("name")?s("small",{staticClass:"text-danger",domProps:{textContent:t._s(t.fieldErrors.get("name"))}}):t._e()])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-sm-offset-1 col-sm-10"},[s("input",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit",value:"Add list",disabled:t.fieldErrors.any()}})])])]),t._v(" "),s("ul",{staticClass:"list-inline"},[s("all-lists-button")],1)],1)},staticRenderFns:[]},D=s("VU/8")(A,$,!1,null,null,null).exports,B={name:"EditItemsList",components:{AllListsButton:h,ErrorAlert:r},props:["listId"],data:function(){return{list:{},error:!1,fieldErrors:new x,message:""}},mounted:function(){var t=this;o.get("/itemsList/"+this.listId).then(function(e){t.list=new C(e.data),t.error=!1}).catch(function(e){console.log(e),t.error=!0})},methods:{updateItemsList:function(){var t=this;o.put("/itemsList/"+this.listId,{name:this.list.name}).then(function(){t.$router.push("/")}).catch(function(e){e.response?(t.fieldErrors.set(e.response.data),console.log(t.fieldErrors)):(console.log(e),t.error=!0,t.message=e.toString())})}}},P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-6 offset-md-3"},[t.error?s("error-alert",{attrs:{message:t.message}}):t._e(),t._v(" "),s("h1",[t._v("Edit "+t._s(this.list.name))]),t._v(" "),s("form",{staticClass:"form-horizontal",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.updateItemsList(e)},keydown:function(e){t.fieldErrors.clear(e.target.name)}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-1 control-label",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),s("div",{staticClass:"col-sm-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.list.name,expression:"list.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name"},domProps:{value:t.list.name},on:{input:function(e){e.target.composing||t.$set(t.list,"name",e.target.value)}}}),t._v(" "),t.fieldErrors.has("name")?s("small",{staticClass:"text-danger",domProps:{textContent:t._s(t.fieldErrors.get("name"))}}):t._e()])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-sm-offset-1 col-sm-10"},[s("input",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit",value:"Update list",disabled:t.fieldErrors.any()}})])])]),t._v(" "),s("ul",{staticClass:"list-inline"},[s("all-lists-button")],1)],1)},staticRenderFns:[]},S=s("VU/8")(B,P,!1,null,null,null).exports,U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"list-inline-item"},[e("router-link",{staticClass:"btn btn-info btn-sm",attrs:{to:{path:"/itemsList/"+this.listId},role:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Back to the list"}},[e("span",{staticClass:"oi oi-arrow-thick-left"})])],1)},staticRenderFns:[]},N=s("VU/8")({name:"BackToListButton",props:["listId"]},U,!1,null,null,null).exports,R=function t(e){_()(this,t),this.id=e.id,this.name=e.name,this.comment=e.comment,this.bought=e.bought,this.listId=e.listId},V={name:"Item",components:{BackToListButton:N,AllListsButton:h,ErrorAlert:r},props:["itemId"],data:function(){return{item:{},loading:!0,error:!1,message:""}},mounted:function(){var t=this;o.get("/item/"+this.itemId).then(function(e){t.item=new R(e.data),t.loading=!1,t.error=!1}).catch(function(e){console.log(e),t.loading=!1,t.error=!0,t.message=e.toString()})},methods:{confirmDeleteItem:function(t){var e=this;this.$dialog.confirm("Are you sure you want to delete this item?").then(function(){console.log("Delete clicked"),o.delete("/item/"+t).then(function(){e.$router.push("/itemsList/"+e.item.listId)}).catch(function(t){console.log(t),e.error=!0,e.message=t.toString()})}).catch(function(){console.log("Cancel delete clicked")})}}},F={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-6 offset-md-3"},[t.error?s("error-alert",{attrs:{message:t.message}}):t._e(),t._v(" "),t.loading?s("div",[t._v("Loading...")]):s("div",{staticClass:"list-group"},[s("h1",{staticClass:"list-group-item list-group-item-info",domProps:{textContent:t._s(this.item.name)}}),t._v(" "),s("div",{staticClass:"list-group-item"},[s("div",{staticClass:"row"},[t._m(0),t._v(" "),s("div",{staticClass:"col-md-5"},[s("strong",{domProps:{textContent:t._s(t.itemId)}})])])]),t._v(" "),this.item.comment?s("div",{staticClass:"list-group-item"},[s("div",{staticClass:"row"},[t._m(1),t._v(" "),s("div",{staticClass:"col-md-5"},[s("em",{domProps:{textContent:t._s(this.item.comment)}})])])]):t._e(),t._v(" "),s("div",{staticClass:"list-group-item"},[s("div",{staticClass:"row"},[t._m(2),t._v(" "),s("div",{staticClass:"col-md-5"},[s("strong",[t._v(t._s(this.item.bought?"Yes":"No"))])])])])]),t._v(" "),s("ul",{staticClass:"list-inline"},[s("back-to-list-button",{attrs:{"list-id":this.item.listId}}),t._v(" "),s("all-lists-button"),t._v(" "),s("li",{staticClass:"list-inline-item"},[s("router-link",{staticClass:"btn btn-warning btn-sm",attrs:{to:{path:"/editItem/"+t.itemId},role:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Edit item"}},[s("span",{staticClass:"oi oi-pencil"})])],1),t._v(" "),s("li",{staticClass:"list-inline-item"},[s("a",{staticClass:"btn btn-danger btn-sm",attrs:{href:"#",role:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Delete item"},on:{click:function(e){e.preventDefault(),t.confirmDeleteItem(t.itemId)}}},[s("span",{staticClass:"oi oi-x"})])])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-7"},[e("strong",[this._v("ID")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-7"},[e("strong",[this._v("Comment")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-7"},[e("strong",[this._v("Bought")])])}]},T=s("VU/8")(V,F,!1,null,null,null).exports,z={name:"AddItem",components:{BackToListButton:N,AllListsButton:h,ErrorAlert:r},props:["listId"],data:function(){return{name:"",comment:"",error:!1,fieldErrors:new x,message:""}},methods:{addItem:function(){var t=this;o.post("/item",{name:this.name,comment:this.comment,listId:this.listId}).then(function(){t.$router.push("/itemsList/"+t.listId)}).catch(function(e){e.response?(t.fieldErrors.set(e.response.data),console.log(t.fieldErrors)):(console.log(e),t.error=!0,t.message=e.toString())})}}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-6 offset-md-3"},[t.error?s("error-alert",{attrs:{message:t.message}}):t._e(),t._v(" "),s("h1",[t._v("Add a new item")]),t._v(" "),s("form",{staticClass:"form-horizontal",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.addItem(e)},keydown:function(e){t.fieldErrors.clear(e.target.name)}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),s("div",{staticClass:"col-sm-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),t.fieldErrors.has("name")?s("small",{staticClass:"text-danger",domProps:{textContent:t._s(t.fieldErrors.get("name"))}}):t._e()])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label",attrs:{for:"comment"}},[t._v("Comment:")]),t._v(" "),s("div",{staticClass:"col-sm-6"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",attrs:{id:"comment",name:"comment",rows:"3"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-sm-offset-2 col-sm-10"},[s("input",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit",value:"Add item",disabled:t.fieldErrors.any()}})])])]),t._v(" "),s("ul",{staticClass:"list-inline"},[s("back-to-list-button",{attrs:{"list-id":t.listId}}),t._v(" "),s("all-lists-button")],1)],1)},staticRenderFns:[]},j=s("VU/8")(z,W,!1,null,null,null).exports,H={name:"EditItem",components:{BackToListButton:N,AllListsButton:h,ErrorAlert:r},props:["itemId"],data:function(){return{item:{},error:!1,fieldErrors:new x,message:""}},mounted:function(){var t=this;o.get("/item/"+this.itemId).then(function(e){t.item=new R(e.data),t.error=!1}).catch(function(e){console.log(e),t.error=!0})},methods:{editItem:function(){var t=this;o.put("/item/"+this.itemId,{name:this.item.name,comment:this.item.comment,listId:this.item.listId}).then(function(){t.$router.push("/itemsList/"+t.item.listId)}).catch(function(e){e.response?(t.fieldErrors.set(e.response.data),console.log(t.fieldErrors)):(console.log(e),t.error=!0,t.message=e.toString())})}}},M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-6 offset-md-3"},[t.error?s("error-alert",{attrs:{message:t.message}}):t._e(),t._v(" "),s("h1",[t._v("Edit "+t._s(this.item.name))]),t._v(" "),s("form",{staticClass:"form-horizontal",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.editItem(e)},keydown:function(e){t.fieldErrors.clear(e.target.name)}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),s("div",{staticClass:"col-sm-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.name,expression:"item.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name"},domProps:{value:t.item.name},on:{input:function(e){e.target.composing||t.$set(t.item,"name",e.target.value)}}}),t._v(" "),t.fieldErrors.has("name")?s("small",{staticClass:"text-danger",domProps:{textContent:t._s(t.fieldErrors.get("name"))}}):t._e()])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label",attrs:{for:"comment"}},[t._v("Comment:")]),t._v(" "),s("div",{staticClass:"col-sm-6"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.comment,expression:"item.comment"}],staticClass:"form-control",attrs:{id:"comment",name:"comment",rows:"3"},domProps:{value:t.item.comment},on:{input:function(e){e.target.composing||t.$set(t.item,"comment",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-sm-offset-2 col-sm-10"},[s("input",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit",value:"Update item",disabled:t.fieldErrors.any()}})])])]),t._v(" "),s("ul",{staticClass:"list-inline"},[s("back-to-list-button",{attrs:{"list-id":this.item.listId}}),t._v(" "),s("all-lists-button")],1)],1)},staticRenderFns:[]},O=s("VU/8")(H,M,!1,null,null,null).exports;i.a.use(p.a);var Z=new p.a({routes:[{path:"/",name:"ShoppingList",component:c},{path:"/itemsList/:listId",name:"ItemsList",component:E,props:!0},{path:"/addItemsList",name:"AddItemsList",component:D},{path:"/editItemsList/:listId",name:"EditItemsList",component:S,props:!0},{path:"/item/:itemId",name:"Item",component:T,props:!0},{path:"/addItem/:listId",name:"AddItem",component:j,props:!0},{path:"/editItem/:itemId",name:"EditItem",component:O,props:!0}]}),q=s("7VfX"),J=s.n(q);i.a.config.productionTip=!1,i.a.use(J.a),new i.a({el:"#app",router:Z,components:{App:f},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.1537bad73bc7972b7fa1.js.map